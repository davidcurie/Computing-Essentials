<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Refactoring Basics" href="../refactoring-basics/refactoring-basics.html" /><link rel="prev" title="First Steps with Python" href="../first-steps/first-steps-python.html" />

    <meta name="generator" content="sphinx-4.5.0, furo 2022.04.07"/>
        <title>Next Steps with Python - Computing Essentials</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?digest=68f4518137b9aefe99b631505a2064c3c42c9852" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #fbf1c7;
  --color-code-foreground: black;
  --color-problematic: #cc241d;
  --color-foreground-primary: #282828;
  --color-foreground-secondary: #3c3836;
  --color-foreground-muted: #504945;
  --color-foreground-border: #665c54;
  --color-background-primary: #f9f5d7;
  --color-background-secondary: #fbf1c7;
  --color-background-hover: #d5c4a1;
  --color-background-hover--transparent: #d5c4a1;
  --color-background-border: #a89984;
  --color-background-item: #a89984;
  --color-announcement-background: #282828dd;
  --color-announcement-text: #fbf1c7;
  --color-brand-primary: #79740e;
  --color-brand-content: #458588;
  --color-highlight-on-target: #ebdbb2;
  --color-highlighted-background: #fabd2f;
  --color-guilabel-background: #b1628680;
  --color-guilabel-border: #b1628680;
  --color-admonition-title: #b16286;
  --color-topic-title: #282828;
  --color-admonition-title--caution: #d79921;
  --color-admonition-title--warning: #d65d0e;
  --color-admonition-title--danger: #cc241d;
  --color-admonition-title--attention: #d65d0e;
  --color-admonition-title--error: #cc241d;
  --color-admonition-title--hint: #689d6a;
  --color-admonition-title--tip: #689d6a;
  --color-admonition-title--important: #458588;
  --color-admonition-title--note: #689d6a;
  --color-admonition-title--seealso: #458588;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-problematic: #fb4934;
  --color-foreground-primary: #fbf1c7;
  --color-foreground-secondary: #ebdbb2;
  --color-foreground-muted: #d5c4a1;
  --color-foreground-border: #bdae93;
  --color-background-primary: #282828;
  --color-background-secondary: #1d2021;
  --color-background-hover: #3c3836;
  --color-background-hover--transparent: #3c3836;
  --color-background-border: #928374;
  --color-background-item: #928374;
  --color-announcement-background: #fbf1c7dd;
  --color-announcement-text: #282828;
  --color-brand-primary: #b8bb26;
  --color-brand-content: #83a598;
  --color-highlight-on-target: #1d2021;
  --color-highlighted-background: #d79921;
  --color-guilabel-background: #d3869b80;
  --color-guilabel-border: #d3869b80;
  --color-admonition-title: #d3869b80;
  --color-topic-title: #ebdbb2;
  --color-admonition-title--caution: #fabd2f;
  --color-admonition-title--warning: #fe8019;
  --color-admonition-title--danger: #fb4934;
  --color-admonition-title--attention: #fe8019;
  --color-admonition-title--error: #fb4934;
  --color-admonition-title--hint: #8ec07c;
  --color-admonition-title--tip: #8ec07c;
  --color-admonition-title--important: #83a598;
  --color-admonition-title--note: #8ec07c;
  --color-admonition-title--seealso: #83a598;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-problematic: #fb4934;
  --color-foreground-primary: #fbf1c7;
  --color-foreground-secondary: #ebdbb2;
  --color-foreground-muted: #d5c4a1;
  --color-foreground-border: #bdae93;
  --color-background-primary: #282828;
  --color-background-secondary: #1d2021;
  --color-background-hover: #3c3836;
  --color-background-hover--transparent: #3c3836;
  --color-background-border: #928374;
  --color-background-item: #928374;
  --color-announcement-background: #fbf1c7dd;
  --color-announcement-text: #282828;
  --color-brand-primary: #b8bb26;
  --color-brand-content: #83a598;
  --color-highlight-on-target: #1d2021;
  --color-highlighted-background: #d79921;
  --color-guilabel-background: #d3869b80;
  --color-guilabel-border: #d3869b80;
  --color-admonition-title: #d3869b80;
  --color-topic-title: #ebdbb2;
  --color-admonition-title--caution: #fabd2f;
  --color-admonition-title--warning: #fe8019;
  --color-admonition-title--danger: #fb4934;
  --color-admonition-title--attention: #fe8019;
  --color-admonition-title--error: #fb4934;
  --color-admonition-title--hint: #8ec07c;
  --color-admonition-title--tip: #8ec07c;
  --color-admonition-title--important: #83a598;
  --color-admonition-title--note: #8ec07c;
  --color-admonition-title--seealso: #83a598;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../docs/intro.html"><div class="brand">Computing Essentials</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../../docs/intro.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Computing Essentials</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../docs/getting-started.html">Getting Started</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Lessons</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../first-steps/first-steps-bash.html">First Steps with Bash</a></li>
<li class="toctree-l1"><a class="reference internal" href="../first-steps/first-steps-git.html">First Steps with Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../git/git-paper.html">Git for Academic Papers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../first-steps/first-steps-python.html">First Steps with Python</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Next Steps with Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../refactoring-basics/refactoring-basics.html">Refactoring Basics</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container"><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="tex2jax_ignore mathjax_ignore section" id="next-steps-with-python">
<h1>Next Steps with Python<a class="headerlink" href="#next-steps-with-python" title="Permalink to this headline">#</a></h1>
<div class="admonition-prerequisites admonition">
<p class="admonition-title">Prerequisites</p>
<ul class="simple">
<li><p>First Steps with Python</p></li>
</ul>
</div>
<div class="admonition-optional-prerequisites admonition">
<p class="admonition-title">Optional Prerequisites</p>
<ul class="simple">
<li><p><a class="reference external" href="https://exercism.org/tracks/python/concepts">Exercism</a> Python track: <a class="reference external" href="https://exercism.org/tracks/python/exercises/tree-building">Tree building</a></p></li>
</ul>
</div>
<div class="topic">
<p class="topic-title">Objectives</p>
<ul class="simple">
<li><p>Develop scalable approaches to analyzing data</p></li>
</ul>
</div>
<p>We will take an example script that solves the <em>First Steps with Python</em>
exercise and improve upon it in a way that outsources the repeated steps into
functions.</p>
<div class="section" id="a-sample-solution">
<h2>A sample solution<a class="headerlink" href="#a-sample-solution" title="Permalink to this headline">#</a></h2>
<p>As a reminder of our task, we were asked to search through our sorted data and
find the maximum value for our spectrometer counts per month. The following
script does that. You may find a copy of this initial script <a class="reference external" href="https://github.com/davidcurie/Computing-Essentials/blob/main/lessons/first-steps/find_max.py">here</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">glob</span> <span class="kn">import</span> <span class="n">glob</span>

<span class="n">MONTHS</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s2">"January"</span><span class="p">,</span>
          <span class="mi">2</span><span class="p">:</span> <span class="s2">"February"</span><span class="p">,</span>
          <span class="mi">3</span><span class="p">:</span> <span class="s2">"March"</span><span class="p">,</span>
          <span class="mi">4</span><span class="p">:</span> <span class="s2">"April"</span><span class="p">,</span>
          <span class="mi">5</span><span class="p">:</span> <span class="s2">"May"</span><span class="p">,</span>
          <span class="mi">6</span><span class="p">:</span> <span class="s2">"June"</span><span class="p">,</span>
          <span class="mi">7</span><span class="p">:</span> <span class="s2">"July"</span><span class="p">,</span>
          <span class="mi">8</span><span class="p">:</span> <span class="s2">"August"</span><span class="p">,</span>
          <span class="mi">9</span><span class="p">:</span> <span class="s2">"September"</span><span class="p">,</span>
         <span class="mi">10</span><span class="p">:</span> <span class="s2">"October"</span><span class="p">,</span>
         <span class="mi">11</span><span class="p">:</span> <span class="s2">"November"</span><span class="p">,</span>
         <span class="mi">12</span><span class="p">:</span> <span class="s2">"December"</span><span class="p">,</span>
         <span class="p">}</span>

<span class="c1"># Search through months by int, name pair in 2021.</span>
<span class="k">for</span> <span class="n">month</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">MONTHS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">MM</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">month</span><span class="si">:</span><span class="s1">02</span><span class="si">}</span><span class="s1">'</span> <span class="c1"># pad with leading zero</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="n">glob</span><span class="p">(</span><span class="sa">f</span><span class="s1">'*/2021-</span><span class="si">{</span><span class="n">MM</span><span class="si">}</span><span class="s1">-*'</span><span class="p">)</span> <span class="c1"># get all files in this month</span>
    <span class="n">data_as_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
        <span class="n">month_entry</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">'</span><span class="se">\t</span><span class="s1">'</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="n">data_as_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">month_entry</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">month_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">data_as_list</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="n">month_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'summary.csv'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
        <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">'2021 </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">month_df</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="si">}</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>

<span class="c1"># Search through months by int, name pair in 2022.</span>
<span class="k">for</span> <span class="n">month</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">MONTHS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">MM</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">month</span><span class="si">:</span><span class="s1">02</span><span class="si">}</span><span class="s1">'</span> <span class="c1"># pad with leading zero</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="n">glob</span><span class="p">(</span><span class="sa">f</span><span class="s1">'*/2022-</span><span class="si">{</span><span class="n">MM</span><span class="si">}</span><span class="s1">-*'</span><span class="p">)</span> <span class="c1"># get all files in this month</span>
    <span class="n">data_as_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
        <span class="n">month_entry</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">'</span><span class="se">\t</span><span class="s1">'</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="n">data_as_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">month_entry</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">month_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">data_as_list</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="n">month_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'summary.csv'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
        <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">'2022 </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">month_df</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="si">}</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
</pre></div>
</div>
<p>The basic premise of the script is as follows:</p>
<ol>
<li><p>Create a dictionary to search by individual months by number and name
simultaneously.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>MONTHS = {1: "January",
          2: "February",
          ⋮ 
         12: "December",
         }
</pre></div>
</div>
</li>
<li><p>For each month, find files with identifiable matching criteria in the year 2021.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">month</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">MONTHS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">MM</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">month</span><span class="si">:</span><span class="s1">02</span><span class="si">}</span><span class="s1">'</span> <span class="c1"># pad with leading zero</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="n">glob</span><span class="p">(</span><span class="sa">f</span><span class="s1">'*/2021-</span><span class="si">{</span><span class="n">MM</span><span class="si">}</span><span class="s1">-*'</span><span class="p">)</span> <span class="c1"># get all files in this month, 2021</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">MM</span> <span class="pre">=</span> <span class="pre">f'{month:02}</span></code> syntax takes our dictionary index, say <code class="docutils literal notranslate"><span class="pre">1</span></code> and
converts it to the string <code class="docutils literal notranslate"><span class="pre">01</span></code>. This allows us to match substrings that have a
date in YYYY-MM-DD format, as we constructed in our earlier <em>First Steps with
Bash</em> lesson.</p>
</li>
<li><p>Read matching filenames and append the <em>counts</em> column to a list.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
        <span class="n">month_entry</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">'</span><span class="se">\t</span><span class="s1">'</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="n">data_as_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">month_entry</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</li>
<li><p>Concatenate existing list to a dataframe.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">try</span><span class="p">:</span>
        <span class="n">month_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">data_as_list</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="n">month_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
</pre></div>
</div>
<p>In the case where the <em>try</em> statement fails due to an empty input list (say,
because there are no filenames with the matching month), a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is
raised. We can handle that error case explicitly by writing an empty
dataframe instead. If the <em>try</em> statement fails for other reasons not
explicitly mentioned by an <em>except</em> statement, the error is relayed as
normal. We write to an empty dataframe object so that we can use other
<em>dataframe</em> functions in the future without raising more errors.</p>
</li>
<li><p>Write the maximum value from the dataframe to a file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'summary.csv'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
        <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">'2022 </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">month_df</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="si">}</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">open()</span></code> syntax takes care of properly opening and closing the file
in memory after the commands of the indented section below. Here, we are
opening the file in <em>append</em> mode <code class="docutils literal notranslate"><span class="pre">'a'</span></code>, and explicitly including a
<em>newline</em> character <code class="docutils literal notranslate"><span class="pre">\n</span></code> in each line write. We can’t open the file in
<em>write</em> mode <code class="docutils literal notranslate"><span class="pre">'w'</span></code> because we would overwrite the monthly maximum on each
successive loop. The contents of the line write are formatted in
<em>f-strings</em>, which is a python 3.6+ feature. Words inside <code class="docutils literal notranslate"><span class="pre">{}</span></code> are expanded
to their variable representation. We use the <code class="docutils literal notranslate"><span class="pre">max()</span></code> function on our
<code class="docutils literal notranslate"><span class="pre">month_df</span></code> dataframe of counts accumulated for that month. We also convert
the dataframe to its numeric value representation before computing the
maximum value so that empty dataframes don’t display as an object instead of
<em>Not a Number</em> <code class="docutils literal notranslate"><span class="pre">nan</span></code>.</p>
</li>
<li><p>Repeat for months in 2022.</p></li>
</ol>
</div>
<div class="section" id="identify-repeated-sections">
<h2>Identify repeated sections<a class="headerlink" href="#identify-repeated-sections" title="Permalink to this headline">#</a></h2>
<p>Note that in the first draft of this script above, the code that handles the
month-by-month logic is largely identical for each year, except for the
explicit inclusion of the year in following two lines:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">filenames</span> <span class="o">=</span> <span class="n">glob</span><span class="p">(</span><span class="sa">f</span><span class="s1">'*/2021-</span><span class="si">{</span><span class="n">MM</span><span class="si">}</span><span class="s1">-*'</span><span class="p">)</span> <span class="c1"># get all files in this month</span>
<span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">'2021 </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">month_df</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="si">}</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
</pre></div>
</div>
<p>We could group these two functions into a parent loop and iterate over each
year.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Insert code here</span>
</pre></div>
</div>
<p>This is better because if we make changes to the logic of one month-by-month
iteration, we don’t need to worry about duplicating that change in another
block of code.</p>
<p>The downside of this approach is that we haven’t reduced operational
complexity. We now have at least 3 nested <em>for</em> loops, while good practice aims
for no more than 2 nested loops. This rule stems from the belief that if you
are nesting loops to handle a flow-chart of cases, you are better of
redesigning your logic.</p>
<p>Consider the following alternative logic:</p>
<ol class="simple">
<li><p>Get all filenames (all months, all years)</p></li>
<li><p>Sort filenames by YYYY-MM, group into sub-lists</p></li>
<li><p>Gather data for all files in a sub-list; concatenate into one dataframe</p></li>
<li><p>Pick out the max value for each criteria in the larger dataframe</p></li>
<li><p>Write these values to <code class="docutils literal notranslate"><span class="pre">summary.csv</span></code> in one step</p></li>
</ol>
<p>Notice how we can loosely group this into sections that deal with gathering
files (steps 1–2), managing data (steps 3–4), and writing results (step
5).</p>
<p>More importantly, with enough insight we can structure these calls to be
relatively independent from one another.</p>
<div class="section" id="gathering-files">
<h3>Gathering Files<a class="headerlink" href="#gathering-files" title="Permalink to this headline">#</a></h3>
<p>Rather than explicitly searching through all files within each <em>month loop</em> to
find only those files with a matching month integer <code class="docutils literal notranslate"><span class="pre">MM</span></code>, we can search through
all files once at the beginning of our script and store the results in a list
that we can later parse. The advantage of this is that we only run <code class="docutils literal notranslate"><span class="pre">glob()</span></code>
once, which is a system wide search through directories. We then access
specific filenames by searching through an internal Python list, which may give
us a slight computing advantage.</p>
<p>Let’s make these calls dedicated functions.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_all_filenames</span><span class="p">(</span><span class="n">pattern</span><span class="p">):</span>
    <span class="n">all_filenames_as_list</span> <span class="o">=</span> <span class="n">glob</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">all_filenames_as_list</span>

<span class="k">def</span> <span class="nf">sort_filenames</span><span class="p">(</span><span class="n">list_of_filenames</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>Our first function is just a one-to-one wrapper of the <code class="docutils literal notranslate"><span class="pre">glob()</span></code> function, but
having it in a dedicated function of our choosing makes it clear to us when we
call it that we are accessing all files that we wish to parse. It also allows
us to modify the logic in case we want to add flags in the future without
having to search for all cases in our script where we used the native <code class="docutils literal notranslate"><span class="pre">glob()</span></code>
functionality by itself.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">pass</span></code> statement in the second function is a temporary placeholder that
says <em>do nothing</em> and allows us to benchmark functions that we should come back
to.</p>
<p>Our <code class="docutils literal notranslate"><span class="pre">sort_filesnames()</span></code> function should take our list of filenames and
parse it into sub-lists of our choosing. This can be achieved in a couple of
ways.</p>
<ol>
<li><p>Store this parsed list as a single object that we can pass to other
functions and have those functions pick out the relevant parts that they need.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Approach 1</span>
<span class="k">def</span> <span class="nf">sort_filenames</span><span class="p">(</span><span class="n">list_of_filenames</span><span class="p">):</span>
    <span class="c1"># Sort logic here based on some predefined pattern</span>
    <span class="k">return</span> <span class="p">[[</span><span class="n">sublist_1</span><span class="p">],</span> <span class="p">[</span><span class="n">sublist_2</span><span class="p">],</span> <span class="o">...</span><span class="p">,</span> <span class="p">[</span><span class="n">sublist_N</span><span class="p">]]</span>
</pre></div>
</div>
<p>We can then store this list of lists as an object, say <code class="docutils literal notranslate"><span class="pre">parsed_list</span></code>, and
access each month through list indexing, as in <code class="docutils literal notranslate"><span class="pre">parsed_list[0]</span></code> to get the
first matching month.</p>
</li>
<li><p>Parse the entire list of filenames on demand, only returning the specified
match based on user input.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Approach 2</span>
<span class="k">def</span> <span class="nf">sort_filenames</span><span class="p">(</span><span class="n">list_of_filenames</span><span class="p">,</span> <span class="n">sublist_pattern</span><span class="p">):</span>
    <span class="c1"># Sort logic here that depends on sublist_pattern</span>
    <span class="k">return</span> <span class="n">sublist_match</span>
</pre></div>
</div>
<p>This approach allows for us to generalize our search criteria by specifying
<code class="docutils literal notranslate"><span class="pre">sublist_pattern</span></code> as an extra function parameter. We might also rename the
function to be more explicit about what it does.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Approach 2</span>
<span class="k">def</span> <span class="nf">get_sublist_from_pattern</span><span class="p">(</span><span class="n">list_of_filenames</span><span class="p">,</span> <span class="n">sublist_pattern</span><span class="p">):</span>
    <span class="c1"># Sort logic here that depends on sublist_pattern</span>
    <span class="k">return</span> <span class="n">sublist_match</span>
</pre></div>
</div>
</li>
</ol>
<p>If we intend to access the entire list of filenames infrequently, approach 2
might be the way to go from a resource perspective. It also is more general
because it allows for tweaking the search criteria by using a second input
parameter.</p>
<p>Recall that the purpose of our parsing is to be able to loop through different
months and read a select number of files. Approach 2 forces us to use this
function inside of a loop, where we may have previously defined the search
criteria. It might look like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Looping with approach 2</span>
<span class="k">for</span> <span class="n">month</span> <span class="ow">in</span> <span class="n">list_of_months</span><span class="p">:</span>
    <span class="n">sublist_pattern</span> <span class="o">=</span> <span class="n">some_criteria</span>
    <span class="n">files_by_month</span> <span class="o">=</span> <span class="n">get_sublist_from_pattern</span><span class="p">(</span><span class="n">list_of_filenames</span><span class="p">,</span> <span class="n">sublist_pattern</span><span class="p">)</span>
    <span class="c1"># Read data from matched files and continue for loop logic</span>
</pre></div>
</div>
<p>Here, <code class="docutils literal notranslate"><span class="pre">some_criteria</span></code> would need to be defined for each loop (preferably by
another function). Additionally, we have to set up some iterable for us to loop
over before we can filter the filenames by month. This means that although
approach 2 is extensible, it requires us to create a <code class="docutils literal notranslate"><span class="pre">list_of_months</span></code> to
iterate over and <code class="docutils literal notranslate"><span class="pre">some_criteria</span></code> for us to tailor the generalized function to
our desired loop case. This means that if we later decide to group our searches
by academic semester instead of by month, we’ll need to remember to update how
we generate our <code class="docutils literal notranslate"><span class="pre">list_of_months</span></code> iterable and our <code class="docutils literal notranslate"><span class="pre">some_criteria</span></code> call.</p>
<p>Approach 1 returns an iterable object that is intimately tied to our search
criteria, meaning that we don’t need to set up any further lists to loop
through, so long as we took the time to carefully construct the subsets that we
want.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Looping with approach 1</span>
<span class="n">parsed_list</span> <span class="o">=</span> <span class="n">sort_filenames</span><span class="p">(</span><span class="n">list_of_filenames</span><span class="p">)</span>
<span class="k">for</span> <span class="n">files_by_month</span> <span class="ow">in</span> <span class="n">parsed_list</span><span class="p">:</span>
    <span class="c1"># Read data from each list of files_by_month</span>
    <span class="c1"># Continue for loop logic</span>
</pre></div>
</div>
<p>From an extensibility standpoint, approach 1 is slightly better because it
takes care of all of the pattern matching during the sorting processes, whereas
approach 2 requires us to generate a sorting criteria on each loop and then
apply that sorting criteria to the parent list of filenames on each loop.</p>
<div class="table-wrapper"><table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>Approach 1</p></th>
<th class="head"><p>Approach 2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Objective</p></td>
<td><p>Sort once, access later</p></td>
<td><p>Sort on demand</p></td>
</tr>
<tr class="row-odd"><td><p>Pros</p></td>
<td><p>Ties search criteria to iterable</p></td>
<td><p>Extensible for matching other search patterns</p></td>
</tr>
<tr class="row-even"><td><p>Cons</p></td>
<td><p>Not extensible</p></td>
<td><p>Adjustments to search pattern require changes in 2 spots</p></td>
</tr>
</tbody>
</table></div>
<p>We’ll adopt the generalizability of approach 2 into approach 1 by coding in our
matching criterion in approach 1 as a callable function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Improved approach 1</span>
<span class="k">def</span> <span class="nf">search_criteria</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">sort_filenames</span><span class="p">(</span><span class="n">list_of_filenames</span><span class="p">,</span> <span class="n">sublist_pattern</span><span class="p">):</span>
    <span class="c1"># Use search_criteria(sublist_pattern) logic to parse list</span>
    <span class="k">return</span> <span class="p">[[</span><span class="n">sublist_1</span><span class="p">],</span> <span class="p">[</span><span class="n">sublist_2</span><span class="p">],</span> <span class="o">...</span> <span class="p">,</span> <span class="p">[</span><span class="n">sublist_N</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="section" id="managing-data">
<h3>Managing Data<a class="headerlink" href="#managing-data" title="Permalink to this headline">#</a></h3>
<p>Once we have a subset of lists grouped by desired criteria, we can generalize a
function to operate on all files in that list.</p>
<p>We’ll make use of the <code class="docutils literal notranslate"><span class="pre">map(function,</span> <span class="pre">list)</span></code> function, which applies <code class="docutils literal notranslate"><span class="pre">function</span></code>
to each item in <code class="docutils literal notranslate"><span class="pre">list</span></code>. This is a shortened way of writing the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Equivalent of map(function, my_list)</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">my_list</span><span class="p">:</span>
    <span class="n">function</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</pre></div>
</div>
<p>For our list of sub-lists, we can read each file in our sub-list into a
dataframe and concatenate all dataframes from the sub-lists into one dataframe
with the <code class="docutils literal notranslate"><span class="pre">pd.concat()</span></code> function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">month_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">,</span> <span class="n">sublist</span><span class="p">))</span>
</pre></div>
</div>
<p>As we’ll need to repeat this dataframe creation for each sub-list in our parsed
list, we’ll put it in a for loop and append each dataframe to a list.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">import_files_into_dataframe</span><span class="p">(</span><span class="n">files_as_list</span><span class="p">):</span>
    <span class="n">list_of_dataframes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span> <span class="n">parsed_list</span><span class="p">:</span>
        <span class="n">month_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">,</span> <span class="n">sublist</span><span class="p">))</span>
        <span class="n">list_of_dataframes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">month_df</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">list_of_dataframes</span>
</pre></div>
</div>
<p>We can now pick out the max value from each dataframe in a simple way.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_max_values</span><span class="p">(</span><span class="n">list_of_dataframes</span><span class="p">):</span>
    <span class="n">list_of_max_values</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">dataframe</span> <span class="ow">in</span> <span class="n">list_of_dataframes</span><span class="p">:</span>
       <span class="n">month_max</span> <span class="o">=</span> <span class="n">dataframe</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
       <span class="n">list_of_max_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">month_max</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">list_of_max_values</span>
</pre></div>
</div>
</div>
<div class="section" id="writing-results">
<h3>Writing Results<a class="headerlink" href="#writing-results" title="Permalink to this headline">#</a></h3>
<p>Our results lie in the <code class="docutils literal notranslate"><span class="pre">list_of_max_values</span></code> result from the <code class="docutils literal notranslate"><span class="pre">get_max_values()</span></code>
function. We can more simply write all lines of this dataframe to a single
file, meaning we only need to open and close it once instead of opening and
closing the file in each for loop.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'summary.csv'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
    <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">list_of_max_values</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="make-it-idempotent">
<h2>Make it idempotent<a class="headerlink" href="#make-it-idempotent" title="Permalink to this headline">#</a></h2>
<p>A script should yield the same results if called on the same conditions. In our
case, the write statement is appending data to our <code class="docutils literal notranslate"><span class="pre">summary.csv</span></code> file.</p>
<p>We initially opened in <em>append</em> mode because opening in <em>write</em> mode would
overwrite the results of the previous month with those from the current month
during each new loop.</p>
<p>There are two potential solutions to this problem:</p>
<ol class="simple">
<li><p>Write all of the columns of the dataframe in one step, overwriting the
existing contents from previous runs.</p></li>
<li><p>Append only new data to the results.</p></li>
</ol>
</div>
<div class="section" id="instructions">
<h2>Instructions<a class="headerlink" href="#instructions" title="Permalink to this headline">#</a></h2>
<div class="topic">
<p class="topic-title">Task</p>
<p>Make improvements to your <code class="docutils literal notranslate"><span class="pre">find_max.py</span></code> file to make use of functions.</p>
<p>You may use the sample solution at the beginning of this lesson as a starting
point. Consider incorporating the suggested improvements outlined above by
filling in the logic for the functions declared in the outline.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">find_max.py</span></code> script should do the following by default:</p>
<ul class="simple">
<li><p>Gather all files in room-temp/ and high-temp/ folders</p></li>
<li><p>Sort files based on month</p></li>
<li><p>Find the maxiumum spectroscopic count of each month</p></li>
<li><p>Write the results to <code class="docutils literal notranslate"><span class="pre">summary.csv</span></code> in the same order the files were grouped</p></li>
</ul>
<p>Once all of your functions are defined, see if you can execute the main logic
of the above pipeline in 10 lines of code or less.</p>
</div>
<div class="important admonition">
<p class="admonition-title">Challenge</p>
<p>Extend the <code class="docutils literal notranslate"><span class="pre">find_max.py</span></code> script to append uniquely new results to <code class="docutils literal notranslate"><span class="pre">summary.csv</span></code>
instead of overwriting on each execution.</p>
</div>
</div>
<div class="section" id="more-resources">
<h2>More Resources<a class="headerlink" href="#more-resources" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://youtu.be/-8n91btt5d8">How to Program a Game! (in Python)</a> (Video: 1:10:06)</p></li>
<li><p><a class="reference external" href="https://youtu.be/731LoaZCUjo">Professional Code Refactor! (Cleaning Python Code &amp; Rewriting it to use
Classes)</a> (Video: 1:02:29)</p></li>
<li><p><a class="reference external" href="https://refactoring.guru/refactoring">Refactoring Guru</a></p></li>
</ul>
</div>
</div>
<script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./lessons/next-steps"
        },
        predefinedOutput: true
    }
    </script>
<script>kernelName = 'python3'</script>
        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../refactoring-basics/refactoring-basics.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Refactoring Basics</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../first-steps/first-steps-python.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">First Steps with Python</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022 David Curie
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Next Steps with Python</a><ul>
<li><a class="reference internal" href="#a-sample-solution">A sample solution</a></li>
<li><a class="reference internal" href="#identify-repeated-sections">Identify repeated sections</a><ul>
<li><a class="reference internal" href="#gathering-files">Gathering Files</a></li>
<li><a class="reference internal" href="#managing-data">Managing Data</a></li>
<li><a class="reference internal" href="#writing-results">Writing Results</a></li>
</ul>
</li>
<li><a class="reference internal" href="#make-it-idempotent">Make it idempotent</a></li>
<li><a class="reference internal" href="#instructions">Instructions</a></li>
<li><a class="reference internal" href="#more-resources">More Resources</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/scripts/furo.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    </body>
</html>